<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,200;0,300;0,500;0,700;1,200;1,300;1,500;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style3.css">
    <title>CoachHer</title>
</head>
<body>
  <header>
    <nav>
      <ul>
        <li><a class="navLinks" href="/">Home</a></li>
        <li><a class="navLinks" href="/browsecoaches">Browse Coaches</a></li>
        <li><a class="navLinks" href="/signup">Sign Up</a></li>
        <li><a class="navLinks" href="/login">Log In</a></li>
        <li><a class="navLinks" href="/">Log Out</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <!-- profile pic goes here -->
    <section class="profilePic">
      <h1><%= user.local.username%>'s Dashboard</h1>
      <img src="<%= user.local.imagepath %>" alt="">


    </section>

    <section class="chatRequests">
      <section>
        <p>Chat requests section</p>
        <ul>
            <% for(var i=0; i< chatRequests.length; i++) {
              console.log(chatRequests[i])
              if(chatRequests[i].status !== "Declined"){ %>

              <li data-id='<%= chatRequests[i]._id %>'>
                <% if(chatRequests[i].status == "Approved"){ %>
                <span>Chat with <%= chatRequests[i].athleteUN %></span>
                <a href="/room/<%= chatRequests[i].roomID %>">Join Chat</a>
                <% } else { %>
                <span>You have a chat request pending</span>
                <button class="acceptChat" type="button" name="button">Accept</button><button class="declineChat" type="button" name="button">Decline</button>

                <% } %>




                  <!-- use  array find to search through the request arrays with any of the coaches-->
                </form>
              </li>
              <% } %>
            <% } %>
            </ul>
      </section>

      <section class="connectionRequests">
        <section>
          <p>Connection requests section</p>

          <ul>
              <% for(var i=0; i< connectionRequests.length; i++) { %>



                <li data-id='<%= connectionRequests[i]._id %>'>

                  <span>You have a connection request pending <%= connectionRequests[i].athleteUN %></span>


                  <button class="acceptConnection" type="button" name="button">Accept</button><button class="declineConnection" type="button" name="button">Decline</button>

                </li>

              <% } %>
              </ul>
        </section>

      <section class="filters">

        <form action="/coach" method="post">
          <p class="filterCats">Division</p>
            <input type="checkbox" name="division" value="Bikini">
            <label for="division">Bikini</label>

            <input type="checkbox" name="division" value="Wellness">
            <label for="division">Wellness</label>


            <input type="checkbox" name="division" value="Figure">
            <label for="division">Figure</label>


            <input type="checkbox" name="division" value="Fitness" <%= user.local.coachInfo.division.includes("Fitness") ? "checked": "x" %>>
            <label for="division">Fitness</label>

            <input type="checkbox" name="division" value="WPD">
            <label for="division">Women's Physique Division</label>

            <input type="checkbox" name="division" value="WBB">
            <label for="division">Women's Bodybuilding</label>

          <p class="filterCats">Coach Gender</p>
          <input type="radio" name="gender" value="Female">
          <label for="division">Female</label>

          <input type="radio" name="gender" value="Male">
          <label for="division">Male</label>

          <p class="filterCats">External Links</p>
          <input type="text" placeholder="Website" name="website" value="">
          <input type="text" placeholder="Instagram" name="instagram" value="">
          <input type="text" placeholder="Facebook" name="facebook" value="">

          <label for="about">About Coach</label>
          <textarea name="about" rows="8" cols="80"><%= user.local.coachInfo.about ? user.local.coachInfo.about : "" %></textarea>

          <button type="submit" class="btn btn-warning btn-lg">Submit</button>
        </form>


      </section>
    </section>



  </main>

  <footer>
    <p class="copy"> Copyright Â© 2021 CoachHer.All rights reserved.</p>
  </footer>
    <script src="main.js"></script>
</body>
</html>
